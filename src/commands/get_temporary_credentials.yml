description: >
  Connects to Cloudsmith via OIDC
parameters:
  repository:
    description: >
      ID of the cloudsmith repository
    type: string
    default: "financial-times-internal-releases"
  service:
    description: >
      ID of the Cloudsmith Service account that will be used to access the repository
    type: string
steps:
  - run:
      environment:
        CLOUDSMITH_REPOSITORY: <<parameters.repository>>
        CLOUDSMTIH_SERVICE: <<parameters.service>>
      name: Get Temporary Credentials
      command: <<include(scripts/get_temporary_credentials.sh)>>

description: >
  Connects to Cloudsmith via OIDC
parameters:
  repository:
    description: >
      Name of the cloudsmith repository
    type: string
    default: "financial-times-internal-releases"
  service_slug:
    description: >
      Name of the Cloudsmith Service account that will be used to access the repository
    type: string
    default: ""
steps:
  - run:
      environment:
        REPOSITORY: <<parameters.repository>>
        SERVICE_SLUG: <<parameters.service_slug>>
      name: Get Temporary Credentials
      command: <<include(scripts/get_temporary_credentials.sh)>>
